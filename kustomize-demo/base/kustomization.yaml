apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# ① Source Kubernetes resources for this base
resources:
  - namespace.yaml
  - deployment.yaml
  - service.yaml

# ② Transformers: applied to EVERY resource automatically
commonLabels:
  app: webapp
  team: platform
  managed-by: kustomize

commonAnnotations:
  deployment-tool: kustomize
  owner: platform-team

# ③ Image placeholder — overlays override the tag
images:
  - name: webapp
    newName: registry.example.com/webapp
    newTag: latest
